{% extends "tutorialv2/base.html" %}
{% load date %}
{% load i18n %}
{% load captureas %}



{% block title %}
    {% if tag %}
        {{ tag }}
    {% elif category %}
        {{ category }}
    {% else %}
        {% trans "Tous les" %} {{ verbose_type_name_plural }}
    {% endif %}
{% endblock %}



{% block description %}
    {% if tag %}
        {% blocktrans %}
            Découvrez tous nos {{ verbose_type_name_plural }} sur {{ tag }}. Vous pourrez également découvrir divers sujets tous plus intéressants les uns que les autres !
        {% endblocktrans %}
    {% elif category %}
        {% blocktrans %}
            Découvrez tous nos {{ verbose_type_name_plural }} sur {{ category }}. Vous pourrez également découvrir divers sujets tous plus intéressants les uns que les autres !
        {% endblocktrans %}
    {% else %}
        {% blocktrans %}
            Les {{ verbose_type_name_plural }} vous permettent d'apprendre divers sujets tous plus intéressants les uns que les autres.
        {% endblocktrans %}
    {% endif %}
{% endblock %}



{% block breadcrumb %}
    {% if tag %}
        <li>{{ tag }}</li>
    {% elif category %}
        <li>{{ category }}</li>
    {% else %}
        <li>{% trans "Tous les" %} {{ verbose_type_name_plural }}</li>
    {% endif %}
{% endblock %}



{% block body_class %}flexpage{% endblock %}



{% block content_out %}
    <section class="full-content-wrapper" itemscope itemtype="http://schema.org/ItemList">
        {# will be moved #}
        <h1 class="ico-after ico-{% if current_content_type == "TUTORIAL" %}tutorials{% elif current_content_type == "ARTICLE" %}articles{% else %}articles{% endif %}" itemprop="name">
            {% block headline %}
                {% if tag %}
                    {{ verbose_type_name_plural|title }} : {{ tag.title }}
                {% elif category %}
                    {{ verbose_type_name_plural|title }} : {{ category }}
                {% else %}
                    {% trans "Tous les" %} {{ verbose_type_name_plural }}
                {% endif %}
            {% endblock %}
        </h1>
        {% if app.content.list == 'old' or hierarchy_level=2 %}
            {% include 'tutorialv2/list_page_elements/list_of_content.html' with col_number=3 paginated_top=True public_contents=public_contents paginated_bottom=True current_content_type=current_content_type %}
        {% else %}
            {% if hierarchy_level == 0 %} {# if we are on main list #}
               <section class="list-of-themes">
                    {% include 'tutorialv2/list_page_elements/themes_list.html' with themes=themes%}
               </section>
               <section class="list-of-last-content">
                    {% include 'tutorialv2/list_page_elements/list_of_content.html' with col_number=2 public_contents=last_content current_content_type=None %}
               </section>
                <section class="list-of-guides">
                    {# here we'll have "make your own", "help authors"... #}
                </section>
            {% elif hierarchy_level == 1 %} {# if we are on a theme list #}
                <section class="list-of-category">

                </section>
                <section class="list-of-last-content">
                    {% include 'tutorialv2/list_page_elements/list_of_content.html' with col_number=2 public_contents=last_content current_content_type=None %}
               </section>
                <section class="list-of-last-content">
                    {% include 'tutorialv2/list_page_elements/list_of_content.html' with col_number=2 public_contents=selected_content current_content_type=None %}
               </section>
            {% endif %}
        {% endif %}
    </section>
{% endblock %}



{% block sidebar %}
    {% include 'tutorialv2/list_page_elements/side_bar.html' %}
{% endblock %}

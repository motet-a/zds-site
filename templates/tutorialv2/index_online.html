{% extends "tutorialv2/base.html" %}
{% load date %}
{% load i18n %}
{% load captureas %}



{% block title %}
    {% if tag %}
        {{ tag }}
    {% elif category %}
        {{ category }}
    {% else %}
        {% trans "Tous les" %} {{ verbose_type_name_plural }}
    {% endif %}
{% endblock %}



{% block description %}
    {% if tag %}
        {% blocktrans %}
            Découvrez tous nos {{ verbose_type_name_plural }} sur {{ tag }}. Vous pourrez également découvrir divers sujets tous plus intéressants les uns que les autres !
        {% endblocktrans %}
    {% elif category %}
        {% blocktrans %}
            Découvrez tous nos {{ verbose_type_name_plural }} sur {{ category }}. Vous pourrez également découvrir divers sujets tous plus intéressants les uns que les autres !
        {% endblocktrans %}
    {% else %}
        {% blocktrans %}
            Les {{ verbose_type_name_plural }} vous permettent d'apprendre divers sujets tous plus intéressants les uns que les autres.
        {% endblocktrans %}
    {% endif %}
{% endblock %}



{% block breadcrumb %}
    {% if tag %}
        <li>{{ tag }}</li>
    {% elif category %}
        <li>{{ category }}</li>
    {% else %}
        <li>{% trans "Tous les" %} {{ verbose_type_name_plural }}</li>
    {% endif %}
{% endblock %}



{% block body_class %}flexpage{% endblock %}



{% block content_out %}

<section class="flexpage-header">
    <div class="flexpage-wrapper">
        {% comment %}
            TODO : later
        {% endcomment %}

        Header
    </div>
</section>

<div class="flexpage-wrapper">
    {% comment %}
        Structure de la page de premier level :
        - 2 tutos mis en avant
        - présentation des 4 domaines de savoirs
        - liste des 6 derniers tutos en une colonne
        - liste des 6 tutos les plus commentés en une colonne
        - bloc de envie de s'investir
    {% endcomment %}

    <section>
        <h2 itemprop="name">Tutoriels à la une</h2>
        <p>Ici mettre uniquement les deux tutoriels à la une sous la présentation normale</p>
    </section>

    <section>
        <h2 itemprop="name">Domaines de savoir</h2>
        <div class="content-linkbox-list">
            {% include 'tutorialv2/list_page_elements/themes_list.html' %}
        </div>
    </section>

    <section>
        <h2 itemprop="name">Dernier tutoriels</h2>
        <p>Ici mettre les 6 derniers tutoriels sous la présentation normale</p>
    </section>

    <section>
        <h2 itemprop="name">Tutoriels chauds</h2>
        {% include 'tutorialv2/list_page_elements/list_of_content.html' with public_contents=selected_contents col_number=1 %}
    </section>

    <section>
        <h2>Envie de s'investir ?</h2>

        <div class="content-linkbox-list">
            <div class="linkbox-item secondary">
                <a href="" class="head">
                    <h3>Ecrire un tutoriel</h3>
                    <span class="icon"></span>
                </a>

                <a href="" class="body">
                    <p>Lint vérifie, par le biais de JSHint, la forme du code (indentation, doubles guillemets, etc). Lint vérifie, par le biais de JSHint, la forme du code.</p>
                    <p class="right">Allons-y</p>
                </a>
            </div>

            <div class="linkbox-item secondary">
                <a href="" class="head">
                    <h3>Aider les auteurs</h3>
                    <span class="icon"></span>
                </a>

                <a href="" class="body">
                    <p>Lint vérifie, par <strong>le biais de JSHint</strong>, la forme du code (indentation, doubles guillemets, etc). Lint vérifie, par le biais de JSHint, la forme du code.</p>
                    <p>Lint vérifie, par le biais <em>de JSHint</em>, la forme du code (indentation, doubles guillemets, etc). Lint vérifie, par le biais de JSHint, la forme du code.</p>
                    <p class="right">Proposer son aide</p>
                </a>
            </div>

            <div class="linkbox-item secondary">
                <a href="" class="head">
                    <h3>Donner son avis</h3>
                    <span class="icon"></span>
                </a>

                <a href="" class="body">
                    <p>Lint vérifie, par le biais de JSHint, la forme du code (indentation, doubles guillemets, etc). Lint vérifie, par le biais de JSHint, la forme du code.</p>
                    <p class="right">Vers la bêta-zone</p>
                </a>
            </div>

            <div class="linkbox-item">
                <div class="head">
                    <h3>Flux</h3>
                </div>

                <div class="body">
                    <p>Bla bla</p>
                </div>

                <a href="" class="tail">
                    <p>Nouveaux tutoriels (RSS)</p>
                    <span class="icon"></span>
                </a>
                <a href="" class="tail">
                    <p>Nouveaux tutoriels (ATOM)</p>
                    <span class="icon"></span>
                </a>
            </div>
        </div>
    </section>
</div>

{% endblock %}




{% comment %}

# old code

<section class="full-content-wrapper" itemscope itemtype="http://schema.org/ItemList">
    {# will be moved #}
    <h1 class="ico-after ico-{% if current_content_type == "TUTORIAL" %}tutorials{% elif current_content_type == "ARTICLE" %}articles{% else %}articles{% endif %}" itemprop="name">
        {% block headline %}
            {% if tag %}
                {{ verbose_type_name_plural|title }} : {{ tag.title }}
            {% elif category %}
                {{ verbose_type_name_plural|title }} : {{ category }}
            {% else %}
                {% trans "Tous les" %} {{ verbose_type_name_plural }}
            {% endif %}
        {% endblock %}
    </h1>
    {% if app.content.list == 'old' or hierarchy_level == 2 %}
        {% include 'tutorialv2/list_page_elements/list_of_content.html' with col_number=3 paginated_top=True public_contents=public_contents paginated_bottom=True current_content_type=current_content_type %}
    {% else %}
        {% if hierarchy_level == 0 %} {# if we are on main list #}
           <section class="list-of-themes">
                {% include 'tutorialv2/list_page_elements/themes_list.html' with themes=themes%}
           </section>
           <section class="list-of-last-content">
                {% include 'tutorialv2/list_page_elements/list_of_content.html' with col_number=2 public_contents=last_content current_content_type=None %}
           </section>
            <section class="list-of-guides">
                {# here we'll have "make your own", "help authors"... #}
            </section>
        {% elif hierarchy_level == 1 %} {# if we are on a theme list #}
            <section class="list-of-category">

            </section>
            <section class="list-of-last-content">
                {% include 'tutorialv2/list_page_elements/list_of_content.html' with col_number=1 public_contents=last_content current_content_type=None %}
           </section>
            <section class="list-of-last-content">
                {% include 'tutorialv2/list_page_elements/list_of_content.html' with col_number=1 public_contents=selected_content current_content_type=None %}
           </section>
        {% endif %}
    {% endif %}
</section>



{% endcomment %}
